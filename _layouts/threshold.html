---
layout: default
---
{%- comment -%}
Threshold layout: renders sections in the order provided by _data/(sections_key).yaml

Page front matter must include:
  layout: threshold
  sections_key: (home|progression|...)

YAML shape (example):
  sections:
    - type: text
      data:
        label: "Why We Train"
        items:
          - "Because ..."
{%- endcomment -%}

{%- assign sections_key = page.sections_key -%}
{%- assign data = site.data.sections[sections_key] -%}

{%- if data and data.sections and data.sections.size > 0 -%}
  {%- for section in data.sections -%}
    {% include sections/_dispatch.html section=section data=data sections_key=sections_key %}
  {%- endfor -%}
{%- else -%}
  <section class="md-flow">
    <p><em>No <code>sections</code> defined in <code>_data/{{ sections_key }}.yaml</code>.</em></p>
  </section>
{%- endif -%}
